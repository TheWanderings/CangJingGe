# API组成
## `url`: 
### 结构: `//{domain}/{version}/{feature}/{path}?{args}`
* **域名[domain]**: 统一用 `$API_DOMAIN` 表示
* **版本[version]**: 通过 `v1` 表示，`v1`表示 API version 1.0.*
* **功能[feature]**: 表示此API的所属功能服务，如`user`表示与用户相关的功能
* **具体逻辑路径[path]**: 
* **参数[args]**: 通常为`GET`方法所需

## `返回值`
### 响应码,遵守[HTTP状态码标准](https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81)

### 响应值
#### 格式: 默认均为`json格式`，其它格式需要另行说明。
#### 正确情况
按照对应API返回数据。
#### 错误情况
* body中返回详细错误(可选,原因是有些错误可能由web框架自行处理)，格式为json格式，其中code定义见[错误码定义](#错误码定义)
```js
{
    "error": 100, //错误码
    "error_msg": "具体原因" // optional
}
```


####错误码定义
##### 通用错误

**(1~99)**

* 1: json格式出错
* 2: 必要参数缺失
* 3: 参数类型错误

##### 用户相关及验证

**(100~199)**

* 101: 邮箱格式非法        
* 102: 邮箱已被注册
* 103: 密码格式非法
* 104: 密码错误
* 105: token验证失败
        

##### 权限相关

**(200~299)**

* 200: 没有权限


##### 服务器状态相关

**(900~999)**

* 900: 服务器暂时不可用
* 999: 未知(业务上没有定义的错误)

